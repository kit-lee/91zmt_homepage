<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
<title>妙思科技</title>
<link href="swiper.min.css" type="text/css" rel="stylesheet" />
<style>
/* ---------- init ---------- */

html, body {
	height: 100%;
}
body, div, dl, dt, dd, ul, ol, li, h1, h2, h3, h4, h5, h6, pre, code, form, fieldset, legend, input, textarea, p, blockquote, th, td, hr, button, article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section {
	margin: 0;
	padding: 0;
}
article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section {
	display: block;
	word-wrap: break-word;
}
body, button, input, select, textarea {
	font-family: Microsoft YaHei, STXihei, STHeiti, Verdana, Arial, Helvetica, sans-serif;
	font-size: 12px;
	color: #333;
}
th {
	text-align: inherit;
}
ol, ul {
	list-style: none;
}
fieldset, img {
	border: 0;
	vertical-align: middle;
}
caption, th {
	text-align: left;
}
h1, h2, h3, h4, h5, h6 {
	font-size: 100%;
	font-weight: 500;
}
sup {
	vertical-align: text-top;
}
sub {
	vertical-align: text-bottom;
}
ins, a {
	color: #000;
	text-decoration: none;
}
a, img {
	-webkit-touch-callout: none;
}
table {
	border-collapse: collapse;
}
html, body {
	width: 100%;
	height: 100%;
}
ul, li, img {
	width: 100%;
}
.swiper-container {
	width: 100%;
	height: 100%;
	overflow: hidden;
}
.swiper-slide img {
	width: 100%;
}
.swiper-slide {
	position: relative;
	width: 100%;
	height: 100%;
}
.website-video {
	position: absolute;
	top: 91%;
	left: 35%;
	width: 31%;
	height: 5%;
	text-align: center;
	border: 1px solid #2b73cd;
	background: #2b73cd;
	border-radius: 3px;
	-webkit-border-radius: 3px;
	display: table;
}
.website-video a {
	display: table-cell;
	vertical-align: middle;
	color: #fff;
	font-size: 12px;
}
.page-middle {
	position: relative;
}
.page-middle img {
	position: absolute;
	top: 50%;
	transform: translateY(-50%);
	-webkit-transform: translateY(-50%);
}
</style>
</head>

<body>
<div class="swiper-container">
  <ul class="swiper-wrapper">
    <li class="swiper-slide">
      <div><img class="page-top swiper-lazy" src="img/page-1-1.png" /></div>
      <div class="page-middle"><img class="swiper-lazy" src="img/page-1-2.png"/></div>
      <div class="website-video"> <a href="#">View work</a> </div>
    </li>
    <li class="swiper-slide">
      <div><img class="page-top swiper-lazy" data-src="img/page-2-1.png"/></div>
      <div class="page-middle"><img class="swiper-lazy" data-src="img/page-2-2.png"/></div>
      <div class="website-video"> <a href="#">View work</a> </div>
    </li>
    <li class="swiper-slide">
      <div><img class="page-top swiper-lazy" data-src="img/page-3-1.png" /></div>
      <div class="page-middle"><img class="swiper-lazy" data-src="img/page-3-2.png"/></div>
      <div class="website-video"> <a href="#">View work</a> </div>
    </li>
    <li class="swiper-slide">
      <div><img class="page-top swiper-lazy" data-src="img/page-4-1.png" /></div>
      <div class="page-middle"><img class="swiper-lazy" data-src="img/page-4-2.png"/></div>
      <div class="website-video"> <a href="#">View work</a> </div>
    </li>
    <li class="swiper-slide">
      <div><img class="page-top swiper-lazy" data-src="img/page-5-1.png" /></div>
      <div class="page-middle"><img class="swiper-lazy" data-src="img/page-5-2.png"/></div>
      <div class="website-video"> <a href="#">View work</a> </div>
    </li>
    <li class="swiper-slide">
      <div><img class="page-top swiper-lazy" data-src="img/page-6-1.png" /></div>
      <div class="page-middle"><img class="swiper-lazy" data-src="img/page-6-2.png"/></div>
      <div class="website-video"> <a href="#">View work</a> </div>
    </li>
    <li class="swiper-slide">
      <div><img class="page-top swiper-lazy" data-src="img/page-7-1.png" /></div>
      <div class="page-middle"><img class="swiper-lazy" data-src="img/page-7-2.png"/></div>
      <div class="website-video"> <a href="#">View work</a> </div>
    </li>
    <li class="swiper-slide">
      <div><img class="page-top swiper-lazy" data-src="img/page-8-1.png" /></div>
      <div class="page-middle"><img class="swiper-lazy" data-src="img/page-8-2.png"/></div>
      <div class="website-video"> <a href="#">View work</a> </div>
    </li>
    <li class="swiper-slide">
      <div><img class="page-top swiper-lazy" data-src="img/page-9-1.png" /></div>
      <div class="page-middle"><img class="swiper-lazy" data-src="img/page-9-2.png" /></div>
      <div class="website-video"> <a href="#">View work</a> </div>
    </li>
    <li class="swiper-slide">
      <div><img class="page-top swiper-lazy" data-src="img/page-10-1.png" /></div>
      <div class="page-middle"><img class="swiper-lazy" data-src="img/page-10-2.png"/></div>
      <div class="website-video"> <a href="#">View work</a> </div>
    </li>
    <li class="swiper-slide">
      <div><img class="page-top swiper-lazy" data-src="img/page-11-1.png" /></div>
      <div class="page-middle"><img class="swiper-lazy" data-src="img/page-11-2.png"/></div>
      <div class="website-video"> <a href="#">View work</a> </div>
    </li>
    <li class="swiper-slide">
      <div><img class="page-top swiper-lazy" data-src="img/page-12-1.png" /></div>
      <div class="page-middle"><img class="swiper-lazy" data-src="img/page-12-2.png"/></div>
      <div class="website-video"> <a href="#">View work</a> </div>
    </li>
  </ul>
</div>
<script src="jquery-1.11.1.min.js"></script> 
<script src="swiper.jquery.min.js"></script> 
<script>
var getUrlParam = function(name){
	var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i');
	var r = window.location.search.substr(1).match(reg);
	if (r != null) {
		return unescape(r[2]);
	}
	return null;
}
$(function(){

    var swiper = new Swiper('.swiper-container',{
		direction: 'horizontal',
		initialSlide: parseInt(getUrlParam('p') || 1) - 1,
		lazyLoading : true,
        lazyLoadingInPrevNext : true,
        lazyLoadingInPrevNextAmount : 2,
		
		/*onSlideChangeStart: function(swiper){
			$('.swiper-slide').eq(swiper.activeIndex).find('img').each(function(index, element) {
                $(this).attr('src',$(this).attr('data-src'));
            });
			//mySwiper.activeIndex
            //console.log(swiper.activeIndex)
        }*/
	});
	
	
	

});
$(window).load(function(e) {
	var p2height = $(window).height() - ($(window).height() - parseInt($('.website-video').css('top'))) - $('.page-top').height();
	
	$('.page-middle').height(p2height);
	console.log(p2height,$(window).height(),$('.website-video').css('top'),$('.page-top').height())
    
});
</script>
</body>
</html>
